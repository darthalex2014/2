import{f as z,o as v,c as k,a as f,F as Ae,r as fe,n as Te,g as ee,h as Je,t as N,u as P,d as D,b as R,_ as H,i as K,w as Ce,v as Ze,p as Ke,j as Ye,k as Q,l as Qe,m as Xe,q as es,x as j,y as $e,z as X,A as ss,e as ts,s as rs}from"./__uno-21a28040.js";const ns={class:"bg-white bg-opacity-5 px-4 py-2"},as={class:"grid grid-cols-3 justify-center"},os=["onClick"],is={class:"flex flex-col justify-center items-center cursor-pointer"},ls={class:"text-base"},cs=z({__name:"TabSection",props:{activeTab:{type:String,required:!0},tabs:{type:Array,required:!0}},emits:["change"],setup(e,{emit:s}){const t=s;function i(o){t("change",o)}return(o,d)=>(v(),k("nav",ns,[f("ul",as,[(v(!0),k(Ae,null,fe(e.tabs,l=>(v(),k("li",{key:l.value,class:Te(["hover:text-emerald-500",{"text-emerald-500":e.activeTab===l.value}]),onClick:a=>i(l.value)},[f("div",is,[(v(),ee(Je(l.icon),{class:"text-2xl"})),f("span",ls,N(l.name),1)])],10,os))),128))])]))}}),Pe="support@scan-translator.com",oe="https://scan-translator.com",pe=30,ge={FREE:"FREE",BASIC:"BASIC",PREMIUM:"PREMIUM",ULTIMATE:"ULTIMATE"},be={CREDITS_LIMIT_EXCEEDED:`You have exceeded your weekly limit of ${pe} free credits. Please upgrade to <a href="https://scan-translator.com/#pricing" target="_blank">pro</a> or try again in 1 week.`,VPN_DETECTED:"VPN detected. Please disable your VPN and try again",SERVER_ERROR:`An error occurred on the server. Please try again later or contact us at <b>${Pe}</b>`,SITE_NOT_SUPPORTED:`This website is not supported. Please disable Auto Translate, refresh the page and use the <b>Screenshot button</b> or use our <a href="${oe}/manga-translator" target="_blank">Manga translator</a> tool instead`,IMAGE_NOT_SUPPORTED:"This site have wrong image format that can't be translated. Only JPEG, PNG, WEBP are supported. Use the <b>Screenshot button</b> instead",INVALID_CREDENTIALS:"Invalid credentials",RELOAD_PAGE:"An error occurred for this image. Please reload the page and try again",VERIFY_EMAIL_FIRST:"Please verify your email first",IMAGE_SIZE_TOO_LARGE:"Image size too large. Use the <b>Screenshot button</b> instead",SERVER_ON_MAINTENANCE:"Server is under maintenance, sorry for the inconvenience. Please try again later"},gs=[{name:"Afrikaans",value:"af"},{name:"Albanian",value:"sq"},{name:"Arabic",value:"ar"},{name:"Armenian",value:"hy"},{name:"Belarusian",value:"be"},{name:"Bosnian",value:"bs"},{name:"Bulgarian",value:"bg"},{name:"Burmese",value:"my"},{name:"Chinese (simplified)",value:"zh"},{name:"Croatian",value:"hr"},{name:"Czech",value:"cs"},{name:"Danish",value:"da"},{name:"Dutch",value:"nl"},{name:"English",value:"en"},{name:"Estonian",value:"et"},{name:"Finnish",value:"fi"},{name:"French",value:"fr"},{name:"Georgian",value:"ka"},{name:"German",value:"de"},{name:"Greek",value:"el"},{name:"Hebrew",value:"he"},{name:"Hindi",value:"hi"},{name:"Hungarian",value:"hu"},{name:"Icelandic",value:"is"},{name:"Indonesian",value:"id"},{name:"Italian",value:"it"},{name:"Japanese",value:"ja"},{name:"Korean",value:"ko"},{name:"Kurdish",value:"ku"},{name:"Lao",value:"lo"},{name:"Latvian",value:"lv"},{name:"Lithuanian",value:"lt"},{name:"Luxembourgish",value:"lb"},{name:"Macedonian",value:"mk"},{name:"Malagasy",value:"mg"},{name:"Malay",value:"ms"},{name:"Maltese",value:"mt"},{name:"Mongolian",value:"mn"},{name:"Nepali",value:"ne"},{name:"Norwegian",value:"no"},{name:"Persian",value:"fa"},{name:"Polish",value:"pl"},{name:"Portuguese",value:"pt"},{name:"Romanian",value:"ro"},{name:"Russian",value:"ru"},{name:"Slovak",value:"sk"},{name:"Slovenian",value:"sl"},{name:"Somali",value:"so"},{name:"Spanish",value:"es"},{name:"Sundanese",value:"su"},{name:"Swedish",value:"sv"},{name:"Thai",value:"th"},{name:"Turkish",value:"tr"},{name:"Turkmen",value:"tk"},{name:"Ukrainian",value:"uk"},{name:"Uzbek",value:"uz"},{name:"Vietnamese",value:"vi"},{name:"Welsh",value:"cy"},{name:"Yiddish",value:"yi"}],ms={class:"px-4 py-2"},us=f("h1",{class:"text-2xl"},[D(" scan"),f("i",null,"translator")],-1),ds={key:0,class:"text-base font-medium"},As=f("span",{class:"text-gradient font-bold"}," unlimited credits",-1),fs={key:1,class:"text-base font-medium"},ps={key:2,class:"text-base font-medium"},hs={class:"text-gradient font-bold"},xs=z({__name:"Header",props:{plan:{type:String,required:!0,default:ge.FREE},credits:{type:Number,required:!0,default:pe}},setup(e){return(s,t)=>(v(),k("div",ms,[us,e.plan===P(ge).ULTIMATE?(v(),k("div",ds,[D(N(e.plan)+" plan : ",1),As])):e.plan===P(ge).FREE?(v(),k("div",fs,N(e.plan)+" plan ",1)):(v(),k("div",ps,[D(N(e.plan)+" plan : ",1),f("span",hs,N(e.credits)+" credits",1)]))]))}});var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var he={exports:{}};const _s=e=>typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?()=>{const s=crypto.getRandomValues(new Uint8Array(1))[0];return(s>=e?s%e:s).toString(e)}:()=>Math.floor(Math.random()*e).toString(e),Ne=(e=7,s=!1)=>Array.from({length:e},_s(s?16:36)).join("");he.exports=Ne;he.exports.default=Ne;var bs=he.exports;const ie=Ie(bs);var vs=()=>`uid::${ie(7)}`,ys=(e,s=["endpointName","fingerprint"])=>typeof e=="object"&&e!==null&&s.every(t=>t in e),ws=e=>{if(!ys(e))throw new TypeError("Invalid connection args");return JSON.stringify(e)},Ss=()=>{let e=[];return{add:(...s)=>{e=[...e,...s]},remove:s=>{e=typeof s=="string"?e.filter(t=>t.message.transactionId!==s):e.filter(t=>!s.includes(t))},entries:()=>e}},me=class{static toBackground(e,s){return e.postMessage(s)}static toExtensionContext(e,s){return e.postMessage(s)}},Re={exports:{}};(function(e,s){(function(t,i){i(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Me,function(t){if(typeof globalThis!="object"||typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",o="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",d=l=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class A extends WeakMap{constructor(n,g=void 0){super(g),this.createItem=n}get(n){return this.has(n)||this.set(n,this.createItem(n)),super.get(n)}}const m=r=>r&&typeof r=="object"&&typeof r.then=="function",p=(r,n)=>(...g)=>{l.runtime.lastError?r.reject(new Error(l.runtime.lastError.message)):n.singleCallbackArg||g.length<=1&&n.singleCallbackArg!==!1?r.resolve(g[0]):r.resolve(g)},h=r=>r==1?"argument":"arguments",b=(r,n)=>function(u,..._){if(_.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${h(n.minArgs)} for ${r}(), got ${_.length}`);if(_.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${h(n.maxArgs)} for ${r}(), got ${_.length}`);return new Promise((E,T)=>{if(n.fallbackToNoCallback)try{u[r](..._,p({resolve:E,reject:T},n))}catch(c){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,c),u[r](..._),n.fallbackToNoCallback=!1,n.noCallback=!0,E()}else n.noCallback?(u[r](..._),E()):u[r](..._,p({resolve:E,reject:T},n))})},y=(r,n,g)=>new Proxy(n,{apply(u,_,E){return g.call(_,r,...E)}});let w=Function.call.bind(Object.prototype.hasOwnProperty);const I=(r,n={},g={})=>{let u=Object.create(null),_={has(T,c){return c in r||c in u},get(T,c,C){if(c in u)return u[c];if(!(c in r))return;let x=r[c];if(typeof x=="function")if(typeof n[c]=="function")x=y(r,r[c],n[c]);else if(w(g,c)){let L=b(c,g[c]);x=y(r,r[c],L)}else x=x.bind(r);else if(typeof x=="object"&&x!==null&&(w(n,c)||w(g,c)))x=I(x,n[c],g[c]);else if(w(g,"*"))x=I(x,n[c],g["*"]);else return Object.defineProperty(u,c,{configurable:!0,enumerable:!0,get(){return r[c]},set(L){r[c]=L}}),x;return u[c]=x,x},set(T,c,C,x){return c in u?u[c]=C:r[c]=C,!0},defineProperty(T,c,C){return Reflect.defineProperty(u,c,C)},deleteProperty(T,c){return Reflect.deleteProperty(u,c)}},E=Object.create(r);return new Proxy(E,_)},S=r=>({addListener(n,g,...u){n.addListener(r.get(g),...u)},hasListener(n,g){return n.hasListener(r.get(g))},removeListener(n,g){n.removeListener(r.get(g))}}),O=new A(r=>typeof r!="function"?r:function(g){const u=I(g,{},{getContent:{minArgs:0,maxArgs:0}});r(u)});let F=!1;const $=new A(r=>typeof r!="function"?r:function(g,u,_){let E=!1,T,c=new Promise(B=>{T=function(M){F||(console.warn(o,new Error().stack),F=!0),E=!0,B(M)}}),C;try{C=r(g,u,T)}catch(B){C=Promise.reject(B)}const x=C!==!0&&m(C);if(C!==!0&&!x&&!E)return!1;const L=B=>{B.then(M=>{_(M)},M=>{let G;M&&(M instanceof Error||typeof M.message=="string")?G=M.message:G="An unexpected error occurred",_({__mozWebExtensionPolyfillReject__:!0,message:G})}).catch(M=>{console.error("Failed to send onMessage rejected reply",M)})};return L(x?C:c),!0}),W=({reject:r,resolve:n},g)=>{l.runtime.lastError?l.runtime.lastError.message===i?n():r(new Error(l.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?r(new Error(g.message)):n(g)},V=(r,n,g,...u)=>{if(u.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${h(n.minArgs)} for ${r}(), got ${u.length}`);if(u.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${h(n.maxArgs)} for ${r}(), got ${u.length}`);return new Promise((_,E)=>{const T=W.bind(null,{resolve:_,reject:E});u.push(T),g.sendMessage(...u)})},ce={devtools:{network:{onRequestFinished:S(O)}},runtime:{onMessage:S($),onMessageExternal:S($),sendMessage:V.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:V.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},q={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":q},services:{"*":q},websites:{"*":q}},I(l,ce,a)};t.exports=d(chrome)}else t.exports=globalThis.browser})})(Re);var ks=Re.exports;const Es=Ie(ks);var Ts=(e="")=>{const s=vs();let t,i=[];const o=Ss(),d=new Set,l=new Set,a=(m,p)=>{switch(m.status){case"undeliverable":i.some(h=>h.message.messageID===m.message.messageID)||(i=[...i,{message:m.message,resolvedDestination:m.resolvedDestination}]);return;case"deliverable":i=i.reduce((h,b)=>b.resolvedDestination===m.deliverableTo?(me.toBackground(p,{type:"deliver",message:b.message}),h):[...h,b],[]);return;case"delivered":m.receipt.message.messageType==="message"&&o.add(m.receipt);return;case"incoming":m.message.messageType==="reply"&&o.remove(m.message.messageID),d.forEach(h=>h(m.message,p));return;case"terminated":{const h=o.entries().filter(b=>m.fingerprint===b.to);o.remove(h),h.forEach(({message:b})=>l.forEach(y=>y(b)))}}},A=()=>{t=Es.runtime.connect({name:ws({endpointName:e,fingerprint:s})}),t.onMessage.addListener(a),t.onDisconnect.addListener(A),me.toBackground(t,{type:"sync",pendingResponses:o.entries(),pendingDeliveries:[...new Set(i.map(({resolvedDestination:m})=>m))]})};return A(),{onFailure(m){l.add(m)},onMessage(m){d.add(m)},postMessage(m){me.toBackground(t,{type:"deliver",message:m})}}},Cs=Object.defineProperty,$s=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,Ms=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,ye=(e,s,t)=>s in e?Cs(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Oe=(e,s)=>{for(var t in s||(s={}))Ms.call(s,t)&&ye(e,t,s[t]);if(ve)for(var t of ve(s))Is.call(s,t)&&ye(e,t,s[t]);return e},Le=(e,s)=>$s(e,Ps(s)),Ns=/^((?:background$)|devtools|popup|options|content-script|window)(?:@(\d+)(?:\.(\d+))?)?$/,Be=e=>{const[,s,t,i]=e.match(Ns)||[];return{context:s,tabId:+t,frameId:i?+i:void 0}};const Rs=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],ue=Symbol(".toJSON was called"),Os=e=>{e[ue]=!0;const s=e.toJSON();return delete e[ue],s},je=({from:e,seen:s,to_:t,forceEnumerable:i,maxDepth:o,depth:d})=>{const l=t||(Array.isArray(e)?[]:{});if(s.push(e),d>=o)return l;if(typeof e.toJSON=="function"&&e[ue]!==!0)return Os(e);for(const[a,A]of Object.entries(e)){if(typeof Buffer=="function"&&Buffer.isBuffer(A)){l[a]="[object Buffer]";continue}if(A!==null&&typeof A=="object"&&typeof A.pipe=="function"){l[a]="[object Stream]";continue}if(typeof A!="function"){if(!A||typeof A!="object"){l[a]=A;continue}if(!s.includes(e[a])){d++,l[a]=je({from:e[a],seen:[...s],forceEnumerable:i,maxDepth:o,depth:d});continue}l[a]="[Circular]"}}for(const{property:a,enumerable:A}of Rs)typeof e[a]=="string"&&Object.defineProperty(l,a,{value:e[a],enumerable:i?!0:A,configurable:!0,writable:!0});return l};function Ls(e,s={}){const{maxDepth:t=Number.POSITIVE_INFINITY}=s;return typeof e=="object"&&e!==null?je({from:e,seen:[],forceEnumerable:!0,maxDepth:t,depth:0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}let De=()=>({events:{},emit(e,...s){(this.events[e]||[]).forEach(t=>t(...s))},on(e,s){return(this.events[e]=this.events[e]||[]).push(s),()=>this.events[e]=(this.events[e]||[]).filter(t=>t!==s)}});var Bs=(e,s,t)=>{const i=ie(),o=new Map,d=new Map,l=a=>{if(a.destination.context===e&&!a.destination.frameId&&!a.destination.tabId){t==null||t(a);const{transactionId:A,messageID:m,messageType:p}=a,h=()=>{const y=o.get(A);if(y){const{err:w,data:I}=a;if(w){const S=w,O=self[S.name],F=new(typeof O=="function"?O:Error)(S.message);for(const $ in S)F[$]=S[$];y.reject(F)}else y.resolve(I);o.delete(A)}},b=async()=>{let y,w,I=!1;try{const S=d.get(m);if(typeof S=="function")y=await S({sender:a.origin,id:m,data:a.data,timestamp:a.timestamp});else throw I=!0,new Error(`[webext-bridge] No handler registered in '${e}' to accept messages with id '${m}'`)}catch(S){w=S}finally{if(w&&(a.err=Ls(w)),l(Le(Oe({},a),{messageType:"reply",data:y,origin:{context:e,tabId:null},destination:a.origin,hops:[]})),w&&!I)throw y}};switch(p){case"reply":return h();case"message":return b()}}return a.hops.push(`${e}::${i}`),s(a)};return{handleMessage:l,endTransaction:a=>{const A=o.get(a);A==null||A.reject("Transaction was ended before it could complete"),o.delete(a)},sendMessage:(a,A,m="background")=>{const p=typeof m=="string"?Be(m):m,h="Bridge#sendMessage ->";if(!p.context)throw new TypeError(`${h} Destination must be any one of known destinations`);return new Promise((b,y)=>{const w={messageID:a,data:A,destination:p,messageType:"message",transactionId:ie(),origin:{context:e,tabId:null},hops:[],timestamp:Date.now()};o.set(w.transactionId,{resolve:b,reject:y});try{l(w)}catch(I){o.delete(w.transactionId),y(I)}})},onMessage:(a,A)=>(d.set(a,A),()=>d.delete(a))}},Z=class{constructor(e,s){this.endpointRuntime=e,this.streamInfo=s,this.emitter=De(),this.isClosed=!1,this.handleStreamClose=()=>{this.isClosed||(this.isClosed=!0,this.emitter.emit("closed",!0),this.emitter.events={})},Z.initDone||(e.onMessage("__crx_bridge_stream_transfer__",t=>{const{streamId:i,streamTransfer:o,action:d}=t.data,l=Z.openStreams.get(i);l&&!l.isClosed&&(d==="transfer"&&l.emitter.emit("message",o),d==="close"&&(Z.openStreams.delete(i),l.handleStreamClose()))}),Z.initDone=!0),Z.openStreams.set(this.streamInfo.streamId,this)}get info(){return this.streamInfo}send(e){if(this.isClosed)throw new Error("Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status");this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:e,action:"transfer"},this.streamInfo.endpoint)}close(e){e&&this.send(e),this.handleStreamClose(),this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:null,action:"close"},this.streamInfo.endpoint)}onMessage(e){return this.getDisposable("message",e)}onClose(e){return this.getDisposable("closed",e)}getDisposable(e,s){const t=this.emitter.on(e,s);return Object.assign(t,{dispose:t,close:t})}},le=Z;le.initDone=!1;le.openStreams=new Map;var js=e=>{const s=new Map,t=new Map,i=De();e.onMessage("__crx_bridge_stream_open__",l=>new Promise(a=>{const{sender:A,data:m}=l,{channel:p}=m;let h=!1,b=()=>{};const y=()=>{const w=t.get(p);typeof w=="function"?(w(new le(e,Le(Oe({},m),{endpoint:A}))),h&&b(),a(!0)):h||(h=!0,b=i.on("did-change-stream-callbacks",y))};y()}));async function o(l,a){if(s.has(l))throw new Error("webext-bridge: A Stream is already open at this channel");const A=typeof a=="string"?Be(a):a,m={streamId:ie(),channel:l,endpoint:A},p=new le(e,m);return p.onClose(()=>s.delete(l)),await e.sendMessage("__crx_bridge_stream_open__",m,A),s.set(l,p),p}function d(l,a){if(t.has(l))throw new Error("webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication");t.set(l,a),i.emit("did-change-stream-callbacks")}return{openStream:o,onOpenStreamChannel:d}},Fe=Ts("popup"),xe=Bs("popup",e=>Fe.postMessage(e));Fe.onMessage(xe.handleMessage);var{sendMessage:U,onMessage:Ve}=xe;js(xe);const Ue="https://dolphin-app-ys43m.ondigitalocean.app/api";async function Ds(e,s){try{const t=await fetch(`${Ue}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});return t.ok||void 0,await t.json()}catch{}}async function we(e){try{const s=await fetch(`${Ue}/auth/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("Error API getting user info");return await s.json()}catch{}}const Fs={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vs=f("path",{fill:"currentColor",d:"m12 15.4l-6-6L7.4 8l4.6 4.6L16.6 8L18 9.4z"},null,-1),Us=[Vs];function zs(e,s){return v(),k("svg",Fs,[...Us])}const ze={name:"material-symbols-keyboard-arrow-down",render:zs},Ws={class:"text-base font-medium mb-2"},qs={class:"relative"},Gs=["value"],Hs=["value"],Js=z({__name:"BaseSelect",props:{label:String,options:Array,modelValue:String},emits:["update:modelValue"],setup(e,{emit:s}){const t=s;function i(o){const d=o.target;d&&t("update:modelValue",d.value)}return(o,d)=>{const l=ze;return v(),k("div",null,[f("p",Ws,N(e.label),1),f("div",qs,[R(l,{class:"absolute right-4 top-4 text-white text-2xl"}),f("select",{value:e.modelValue,class:"select cursor-pointer w-full appearance-none p-4 rounded bg-white bg-opacity-5",onChange:i},[(v(!0),k(Ae,null,fe(e.options,a=>(v(),k("option",{key:a.value,class:"text-[#2d304b]",value:a.value},N(a.name),9,Hs))),128))],40,Gs)])])}}});const Zs=H(Js,[["__scopeId","data-v-4591f9a5"]]),Ks={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ys=f("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Qs=f("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[f("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Xs=[Ys,Qs];function et(e,s){return v(),k("svg",Ks,[...Xs])}const st={name:"eos-icons-loading",render:et},tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rt=f("g",{fill:"none"},[f("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),f("path",{fill:"currentColor",d:"M17 5a2 2 0 0 1 1.995 1.85L19 7v10h2a1 1 0 0 1 .117 1.993L21 19h-2v2a1 1 0 0 1-1.993.117L17 21V7H9V5zM6 2a1 1 0 0 1 .993.883L7 3v14h8v2H7a2 2 0 0 1-1.995-1.85L5 17V7H3a1 1 0 0 1-.117-1.993L3 5h2V3a1 1 0 0 1 1-1"})],-1),nt=[rt];function at(e,s){return v(),k("svg",tt,[...nt])}const ot={name:"mingcute-screenshot-line",render:at},it={class:"relative"},lt=["disabled"],ct={class:"flex gap-2 items-center"},gt={key:0,class:"tooltip-container"},mt=z({__name:"BaseButton",props:{title:{type:String,required:!0},loading:{type:Boolean,default:!1},icon:{type:[String,Boolean],default:null},tooltip:{type:String,default:""}},emits:["click"],setup(e,{emit:s}){const t=e,i=s;function o(){t.loading||i("click")}return(d,l)=>{const a=ot,A=st;return v(),k("div",it,[f("button",{class:"btn",disabled:e.loading,onClick:o},[f("p",ct,[e.icon?(v(),ee(a,{key:0,class:"text-xl"})):K("",!0),Ce(R(A,{class:"text-xl"},null,512),[[Ze,e.loading]]),D(" "+N(e.title),1)])],8,lt),e.tooltip?(v(),k("p",gt,N(e.tooltip),1)):K("",!0)])}}});const We=H(mt,[["__scopeId","data-v-070c350b"]]),ut=e=>(Ke("data-v-d7854523"),e=e(),Ye(),e),dt={class:"flex justify-between items-center"},At={class:"text-base"},ft={class:"relative inline-block w-[56px] h-[32px]"},pt=["checked"],ht=ut(()=>f("span",{class:"slider round"},null,-1)),xt=z({__name:"BaseSwitch",props:{label:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:s}){const t=s;function i(o){t("update:modelValue",o.target.checked)}return(o,d)=>(v(),k("div",dt,[f("p",At,N(e.label),1),f("label",ft,[f("input",{checked:e.modelValue,type:"checkbox",class:"opacity-0 w-none h-none",onInput:i},null,40,pt),ht])]))}});const qe=H(xt,[["__scopeId","data-v-d7854523"]]);var Ge={exports:{}};(function(e,s){(function(t,i){i(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Me,function(t){var i,o;if(!((o=(i=globalThis.chrome)==null?void 0:i.runtime)!=null&&o.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const d="The message port closed before a response was received.",l=a=>{const A={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(A).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class m extends WeakMap{constructor(n,g=void 0){super(g),this.createItem=n}get(n){return this.has(n)||this.set(n,this.createItem(n)),super.get(n)}}const p=r=>r&&typeof r=="object"&&typeof r.then=="function",h=(r,n)=>(...g)=>{a.runtime.lastError?r.reject(new Error(a.runtime.lastError.message)):n.singleCallbackArg||g.length<=1&&n.singleCallbackArg!==!1?r.resolve(g[0]):r.resolve(g)},b=r=>r==1?"argument":"arguments",y=(r,n)=>function(u,..._){if(_.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${b(n.minArgs)} for ${r}(), got ${_.length}`);if(_.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${b(n.maxArgs)} for ${r}(), got ${_.length}`);return new Promise((E,T)=>{if(n.fallbackToNoCallback)try{u[r](..._,h({resolve:E,reject:T},n))}catch(c){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,c),u[r](..._),n.fallbackToNoCallback=!1,n.noCallback=!0,E()}else n.noCallback?(u[r](..._),E()):u[r](..._,h({resolve:E,reject:T},n))})},w=(r,n,g)=>new Proxy(n,{apply(u,_,E){return g.call(_,r,...E)}});let I=Function.call.bind(Object.prototype.hasOwnProperty);const S=(r,n={},g={})=>{let u=Object.create(null),_={has(T,c){return c in r||c in u},get(T,c,C){if(c in u)return u[c];if(!(c in r))return;let x=r[c];if(typeof x=="function")if(typeof n[c]=="function")x=w(r,r[c],n[c]);else if(I(g,c)){let L=y(c,g[c]);x=w(r,r[c],L)}else x=x.bind(r);else if(typeof x=="object"&&x!==null&&(I(n,c)||I(g,c)))x=S(x,n[c],g[c]);else if(I(g,"*"))x=S(x,n[c],g["*"]);else return Object.defineProperty(u,c,{configurable:!0,enumerable:!0,get(){return r[c]},set(L){r[c]=L}}),x;return u[c]=x,x},set(T,c,C,x){return c in u?u[c]=C:r[c]=C,!0},defineProperty(T,c,C){return Reflect.defineProperty(u,c,C)},deleteProperty(T,c){return Reflect.deleteProperty(u,c)}},E=Object.create(r);return new Proxy(E,_)},O=r=>({addListener(n,g,...u){n.addListener(r.get(g),...u)},hasListener(n,g){return n.hasListener(r.get(g))},removeListener(n,g){n.removeListener(r.get(g))}}),F=new m(r=>typeof r!="function"?r:function(g){const u=S(g,{},{getContent:{minArgs:0,maxArgs:0}});r(u)}),$=new m(r=>typeof r!="function"?r:function(g,u,_){let E=!1,T,c=new Promise(B=>{T=function(M){E=!0,B(M)}}),C;try{C=r(g,u,T)}catch(B){C=Promise.reject(B)}const x=C!==!0&&p(C);if(C!==!0&&!x&&!E)return!1;const L=B=>{B.then(M=>{_(M)},M=>{let G;M&&(M instanceof Error||typeof M.message=="string")?G=M.message:G="An unexpected error occurred",_({__mozWebExtensionPolyfillReject__:!0,message:G})}).catch(M=>{console.error("Failed to send onMessage rejected reply",M)})};return L(x?C:c),!0}),W=({reject:r,resolve:n},g)=>{a.runtime.lastError?a.runtime.lastError.message===d?n():r(new Error(a.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?r(new Error(g.message)):n(g)},V=(r,n,g,...u)=>{if(u.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${b(n.minArgs)} for ${r}(), got ${u.length}`);if(u.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${b(n.maxArgs)} for ${r}(), got ${u.length}`);return new Promise((_,E)=>{const T=W.bind(null,{resolve:_,reject:E});u.push(T),g.sendMessage(...u)})},ce={devtools:{network:{onRequestFinished:O(F)}},runtime:{onMessage:O($),onMessageExternal:O($),sendMessage:V.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:V.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},q={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return A.privacy={network:{"*":q},services:{"*":q},websites:{"*":q}},S(a,ce,A)};t.exports=l(chrome)}else t.exports=globalThis.browser})})(Ge);var Y=Ge.exports;function _t(e){return Qe()?(Xe(e),!0):!1}function _e(e){return typeof e=="function"?e():P(e)}const bt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vt=Object.prototype.toString,yt=e=>vt.call(e)==="[object Object]",wt=()=>{};function St(e,s){function t(...i){return new Promise((o,d)=>{Promise.resolve(e(()=>s.apply(this,i),{fn:s,thisArg:this,args:i})).then(o).catch(d)})}return t}const kt=e=>e();function Et(e,s,t={}){const{eventFilter:i=kt,...o}=t;return Q(e,St(i,s),o)}function Tt(e){var s;const t=_e(e);return(s=t==null?void 0:t.$el)!=null?s:t}const de=bt?window:void 0;function Ct(...e){let s,t,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,i,o]=e,s=de):[s,t,i,o]=e,!s)return wt;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const d=[],l=()=>{d.forEach(p=>p()),d.length=0},a=(p,h,b,y)=>(p.addEventListener(h,b,y),()=>p.removeEventListener(h,b,y)),A=Q(()=>[Tt(s),_e(o)],([p,h])=>{if(l(),!p)return;const b=yt(h)?{...h}:h;d.push(...t.flatMap(y=>i.map(w=>a(p,y,w,b))))},{immediate:!0,flush:"post"}),m=()=>{A(),l()};return _t(m),m}const te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re="__vueuse_ssr_handlers__",$t=Pt();function Pt(){return re in te||(te[re]=te[re]||{}),te[re]}function Mt(e,s){return $t[e]||s}function It(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Nt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Rt(e,s,t,i={}){var o;const{flush:d="pre",deep:l=!0,listenToStorageChanges:a=!0,writeDefaults:A=!0,mergeDefaults:m=!1,shallow:p,window:h=de,eventFilter:b,onError:y=$=>{console.error($)}}=i,w=_e(s),I=It(w),S=(p?es:j)(s),O=(o=i.serializer)!=null?o:Nt[I];if(!t)try{t=Mt("getDefaultStorageAsync",()=>{var $;return($=de)==null?void 0:$.localStorage})()}catch($){y($)}async function F($){if(!(!t||$&&$.key!==e))try{const W=$?$.newValue:await t.getItem(e);if(W==null)S.value=w,A&&w!==null&&await t.setItem(e,await O.write(w));else if(m){const V=await O.read(W);typeof m=="function"?S.value=m(V,w):I==="object"&&!Array.isArray(V)?S.value={...w,...V}:S.value=V}else S.value=await O.read(W)}catch(W){y(W)}}return F(),h&&a&&Ct(h,"storage",$=>Promise.resolve().then(()=>F($))),t&&Et(S,async()=>{try{S.value==null?await t.removeItem(e):await t.setItem(e,await O.write(S.value))}catch($){y($)}},{flush:d,deep:l,eventFilter:b}),S}const Ot={removeItem(e){return Y.storage.local.remove(e)},setItem(e,s){return Y.storage.local.set({[e]:s})},async getItem(e){return(await Y.storage.local.get(e))[e]}},se=(e,s,t)=>Rt(e,s,Ot,t);se("scan-translator-credits",pe);const J=se("scan-translator-enabled-custom-font-size",!1),ne=se("scan-translator-custom-font-size",16);se("scan-translator-auto-translate",!1);const ae=se("scan-translator-target-lang","en"),Lt={class:"px-4 grid gap-3 my-3"},Bt=f("p",{class:"text-sm text-red-300"}," If you change your current tab while translating, the translation process will stop. Refresh the page to continue. ",-1),jt={class:"text-sm text-gray"},Dt=["href"],Se=z({__name:"HomeView",setup(e){const s=j(!1);$e(()=>{U("get-auto-translate-status",{},"background")}),Ve("auto-translate-status-response",({data:o})=>{o.autoTranslate!==void 0&&(s.value=o.autoTranslate)}),Q(ae,async o=>{await U("update-target-lang",{targetLang:o},"background")}),Q(s,async o=>{const l=(await Y.tabs.query({active:!0,currentWindow:!0}))[0];if(l.url){const a=new URL(l.url).hostname;await U("update-auto-translate-preference",{hostname:a,enabled:o},"background")}});const t=async()=>{(await Y.tabs.query({active:!0,currentWindow:!0}))[0].url&&await U("start-screenshot-process",{},"background")},i=async()=>{(await Y.tabs.query({active:!0,currentWindow:!0}))[0].url&&await U("start-translate-all-images-process",{},"background")};return(o,d)=>{const l=qe,a=We,A=Zs;return v(),k("div",Lt,[Bt,R(l,{modelValue:P(s),"onUpdate:modelValue":d[0]||(d[0]=m=>X(s)?s.value=m:null),label:"Auto Translate"},null,8,["modelValue"]),R(a,{icon:!0,title:"Take a screenshot",onClick:t}),R(a,{icon:!1,title:"Translate All Images",tooltip:"Make sure to fully load all images by scrolling through the entire page before using this button on manga/manwha sites.",onClick:i}),f("p",jt,[D(" Check out our "),f("a",{href:`${P(oe)}/manga-translator`,class:"text-white underline"},"Manga Translator Tool",8,Dt),D(" for translating images restricted by certain websites. ")]),R(A,{modelValue:P(ae),"onUpdate:modelValue":d[1]||(d[1]=m=>X(ae)?ae.value=m:null),options:P(gs),label:"Translate to"},null,8,["modelValue","options"])])}}}),Ft={class:"px-4 grid gap-3 my-3"},Vt=f("p",{class:"text-base font-medium mb-2"}," Font size ",-1),Ut={class:"relative"},zt=["disabled"],Wt=["value"],qt={class:"text-sm text-gray"},Gt={class:"text-white underline font-bold"},ke=z({__name:"SettingsView",setup(e){const s=[12,14,16,18,20,22,24,26,28,30];return j(""),j(!1),j(null),j(null),Q(J,async t=>{await U("update-enabled-custom-font-size",{enabledCustomFontSize:t},"background")}),Q(ne,async t=>{await U("update-custom-font-size",{customFontSize:t},"background")}),(t,i)=>{const o=qe,d=ze;return v(),k("div",Ft,[R(o,{modelValue:P(J),"onUpdate:modelValue":i[0]||(i[0]=l=>X(J)?J.value=l:null),label:"Enable custom font size"},null,8,["modelValue"]),f("div",null,[Vt,f("div",Ut,[R(d,{class:"absolute right-4 top-4 text-white text-2xl"}),Ce(f("select",{"onUpdate:modelValue":i[1]||(i[1]=l=>X(ne)?ne.value=l:null),disabled:!P(J),class:Te(["select cursor-pointer w-full appearance-none p-4 rounded bg-white bg-opacity-5",{"cursor-not-allowed":!P(J)}])},[(v(),k(Ae,null,fe(s,l=>f("option",{key:l,class:"text-[#2d304b]",value:l},N(l),9,Wt)),64))],10,zt),[[ss,P(ne)]])])]),f("p",qt,[D(" If you have a request or a bug to report, please send me an email at "),f("span",Gt,N(P(Pe)),1),D(" with the description of the bug you encountered and the URL you were trying to access. Thank you! ")])])}}}),Ht=["type"],Jt=z({__name:"BaseInput",props:{type:{type:String,default:"text"}},emits:["update:modelValue"],setup(e,{emit:s}){const t=s;function i(o){const d=o.target;d&&t("update:modelValue",d.value)}return(o,d)=>(v(),k("input",{class:"input",type:e.type,onInput:i},null,40,Ht))}});const Zt=H(Jt,[["__scopeId","data-v-283f19e5"]]),Kt={class:"px-4 grid my-3"},Yt={key:0},Qt={class:"text-sm text-gray"},Xt={class:"text-white"},er={key:1,class:"grid gap-3"},sr={class:"text-sm text-gray"},tr=["href"],rr={class:"grid gap-2"},nr={class:"text-sm text-gray"},ar=["href"],or={key:0,class:"text-red-500 mt-4 text-sm"},Ee=z({__name:"AccountView",props:{currentUser:{type:Object,required:!1},errorMessage:{type:String,required:!1}},emits:["login","logout"],setup(e,{emit:s}){const t=s,i=j(void 0),o=j(void 0);async function d(l){l.preventDefault(),!(!i.value||!o.value)&&t("login",{email:i.value,password:o.value})}return(l,a)=>{const A=We,m=Zt;return v(),k("div",Kt,[e.currentUser?(v(),k("div",Yt,[f("p",Qt,[D(" Connected as : "),f("span",Xt,N(e.currentUser.email),1)]),R(A,{class:"mt-4",title:"Logout",onClick:a[0]||(a[0]=p=>t("logout"))})])):(v(),k("div",er,[f("p",sr,[D(" If you don't have an account yet, you can register "),f("a",{class:"text-white underline",href:`${P(oe)}/register`},"here",8,tr)]),f("form",{onSubmit:d},[f("div",rr,[R(m,{modelValue:P(i),"onUpdate:modelValue":a[1]||(a[1]=p=>X(i)?i.value=p:null),placeholder:"Email"},null,8,["modelValue"]),R(m,{modelValue:P(o),"onUpdate:modelValue":a[2]||(a[2]=p=>X(o)?o.value=p:null),placeholder:"Password",type:"password"},null,8,["modelValue"]),f("p",nr,[D(" Forgot password ? "),f("a",{class:"text-white underline",href:`${P(oe)}/reset-password`},"click here",8,ar)])]),R(A,{class:"mt-4",title:"Login"}),e.errorMessage!==""?(v(),k("p",or,N(e.errorMessage),1)):K("",!0)],32)]))])}}}),ir={name:"MaterialSymbolsHomeOutline"},lr={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},cr=f("path",{fill:"currentColor",d:"M6 19h3v-6h6v6h3v-9l-6-4.5L6 10v9Zm-2 2V9l8-6l8 6v12h-7v-6h-2v6H4Zm8-8.75Z"},null,-1),gr=[cr];function mr(e,s,t,i,o,d){return v(),k("svg",lr,gr)}const ur=H(ir,[["render",mr]]),dr={name:"IcOutlineSettings"},Ar={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},fr=f("path",{fill:"currentColor",d:"M19.43 12.98c.04-.32.07-.64.07-.98c0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46a.5.5 0 0 0-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1a.566.566 0 0 0-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98c0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46a.5.5 0 0 0 .61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73c0 .21-.02.43-.05.73l-.14 1.13l.89.7l1.08.84l-.7 1.21l-1.27-.51l-1.04-.42l-.9.68c-.43.32-.84.56-1.25.73l-1.06.43l-.16 1.13l-.2 1.35h-1.4l-.19-1.35l-.16-1.13l-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7l-1.06.43l-1.27.51l-.7-1.21l1.08-.84l.89-.7l-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13l-.89-.7l-1.08-.84l.7-1.21l1.27.51l1.04.42l.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43l.16-1.13l.2-1.35h1.39l.19 1.35l.16 1.13l1.06.43c.43.18.83.41 1.23.71l.91.7l1.06-.43l1.27-.51l.7 1.21l-1.07.85l-.89.7l.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z"},null,-1),pr=[fr];function hr(e,s,t,i,o,d){return v(),k("svg",Ar,pr)}const xr=H(dr,[["render",hr]]),_r={name:"IcOutlineAccountCircle"},br={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},vr=f("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38a9.947 9.947 0 0 0-12.28 0A7.957 7.957 0 0 1 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"},null,-1),yr=f("path",{fill:"currentColor",d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"},null,-1),wr=[vr,yr];function Sr(e,s,t,i,o,d){return v(),k("svg",br,wr)}const kr=H(_r,[["render",Sr]]),Er={class:"w-[300px] bg-gradient"},Tr=z({__name:"Popup",setup(e){const s=[{name:"Home",value:"home",component:Se,icon:ur},{name:"Settings",value:"settings",component:ke,icon:xr},{name:"Account",value:"account",component:Ee,icon:kr}],t=j(null),i=j(""),o=j("home");function d(A){o.value=A}U("get-access-token",{},"background"),$e(()=>{Ve("send-access-token",async({data:A})=>{const{accessToken:m}=A,p=await we(m);p&&(t.value=p)})});async function l({email:A,password:m}){const p=await Ds(A,m);if(p.statusCode===400){i.value=be.INVALID_CREDENTIALS;return}if(p.statusCode===500){i.value=be.SERVER_ERROR;return}const h=p.accessToken;await U("store-access-token",{accessToken:h},"background");const b=await we(h);b&&(t.value=b)}function a(){t.value=null,U("remove-access-token",{},"background")}return(A,m)=>{var b,y;const p=xs,h=cs;return v(),k("main",Er,[R(p,{plan:(b=P(t))==null?void 0:b.plan,credits:(y=P(t))==null?void 0:y.credits},null,8,["plan","credits"]),P(o)==="home"?(v(),ee(Se,{key:0})):K("",!0),P(o)==="settings"?(v(),ee(ke,{key:1})):K("",!0),P(o)==="account"?(v(),ee(Ee,{key:2,"current-user":P(t),"error-message":P(i),onLogout:a,onLogin:l},null,8,["current-user","error-message"])):K("",!0),R(h,{tabs:s,"active-tab":P(o),onChange:d},null,8,["active-tab"])])}}}),He=ts(Tr);rs(He);He.mount("#app");
